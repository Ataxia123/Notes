[

![](https://www.gitbook.com/cdn-cgi/image/width=40,dpr=2,height=40,fit=contain,format=auto/https%3A%2F%2F1863580799-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F-MhFNOxEwcl8ED58MUC_%252Ficon%252FkDnE0cMcK7kTGuzaH2xR%252Fff_logo_small.png%3Falt%3Dmedia%26token%3D9bb0798d-02dc-48ae-9c0e-25e6dfb97ccc)

![](https://www.gitbook.com/cdn-cgi/image/width=24,dpr=2,height=24,fit=contain,format=auto/https%3A%2F%2F1863580799-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252F-MhFNOxEwcl8ED58MUC_%252Ficon%252FkDnE0cMcK7kTGuzaH2xR%252Fff_logo_small.png%3Falt%3Dmedia%26token%3D9bb0798d-02dc-48ae-9c0e-25e6dfb97ccc)

FlutterFlow Docs



](/)

[Troubleshooting Guides](https://intercom.help/flutterflow/en)[Docs Feedback](https://flutterflow.typeform.com/to/hxg5nxbo?typeform-source=docs.flutterflow.io)

Search

‚åòK

Links

[

Introduction

](/)

FlutterFlow Introduction

[

Dashboard

](/getting-started/dashboard)

[

App Builder

](/getting-started/ui-builder)

[

Creating New Project

](/getting-started/creating-new-project)

[

Creating New Page

](/getting-started/creating-new-page)

[

Build Your First App

](/getting-started/build-your-first-app)

Settings and Integrations

[

General Settings

](/settings-and-integrations/general-settings)

[

Project Setup

](/settings-and-integrations/project-setup)

[

App Settings

](/settings-and-integrations/app-settings)

[

In App Purchases & Subscriptions

](/settings-and-integrations/in-app-purchases-and-subscriptions)

[

Integrations

](/settings-and-integrations/integrations)

Building UI

[

UI & Layout 101

](/widgets-and-components/ui-and-layout-101)

[

Widgets

](/widgets-and-components/widgets)

[

Component

](/widgets-and-components/custom-components)

[

Animations

](/widgets-and-components/animations)

[

Theme Settings

](/widgets-and-components/theme-settings)

Actions

[

Actions

](/actions/actions)

Data and Backend

[

Firebase

](/data-and-backend/firebase)

[

Supabase

](/data-and-backend/supabase)

[

Passing Data

](/data-and-backend/passing-data)

[

Searching Data

](/data-and-backend/searching-data)

[

State Management

](/data-and-backend/state-management)

[

API Calls

](/data-and-backend/api-calls)

[

Backend Query

](/data-and-backend/backend-query)

[

Showing Data in UI Elements

](/data-and-backend/showing-data-in-ui-elements)

[

Custom Data Types

](/data-and-backend/custom-data-types)

Customizing Your App üñåÔ∏è

[

Custom Functions

](/customizing-your-app/custom-functions)

[

Custom Functions

](/customizing-your-app/custom-functions/custom-functions)

[

Custom Widgets

](/customizing-your-app/custom-functions/custom-widgets)

[

Custom Actions

](/customizing-your-app/custom-functions/custom-actions)

[

Custom Files

](/customizing-your-app/custom-functions/custom-files)

[

Manage Custom Code In GitHub

](/customizing-your-app/manage-custom-code-in-github)

Advanced Functionality ü§ñ

[

Conditional Visibility

](/advanced-functionality/conditional-visibility)

[

Conditional Logic

](/advanced-functionality/conditional-logic)

[

Global Properties

](/advanced-functionality/global-properties)

[

Deep & Dynamic Linking

](/advanced-functionality/deep-and-dynamic-linking)

[

Chat + Group Chat

](/advanced-functionality/chat-+-group-chat)

[

Code Expression

](/advanced-functionality/code-expression)

Deploying Your App üì±

[

Testing Your App

](/deploying-your-app/testing-your-app)

[

Deploy Mobile App

](/deploying-your-app/deploy-mobile-app)

Guides

[

Building Custom Signature Widget with Custom Code

](/guides/building-custom-signature-widget-with-custom-code)

[

Build a Notes App with FlutterFlow and Supabase

](/guides/build-a-notes-app-with-flutterflow-and-supabase)

Troubleshooting ‚ùì

[

Basic Troubleshooting Guide

](/troubleshooting/basic-troubleshooting-guide)

[

Advanced Troubleshooting Guides

](/troubleshooting/advanced-troubleshooting-guides)

[

Enterprise

](/troubleshooting/enterprise)

[

Submit Bug Reports

](/troubleshooting/submit-bug-reports)

[

Miscellaneous

](/troubleshooting/miscellaneous)

Account & Billing ‚ôüÔ∏è

[

Account Management

](/account/account-management)

[

Plans & Pricing

](/account/plans-and-pricing)

[

Subscriptions

](/account/subscriptions)

[

Payments & Billing

](/account/billing)

[

Buy Domains

](/account/buy-domains)

[

Referral Program

](/account/referral-program)

[

Privacy And Terms Of Service

](/account/privacy-and-terms-of-service)

Miscellaneous üòÉ

[

Customer Support Policy

](/miscellaneous/customer-support-policy)

[

Enterprise Support Policy

](/miscellaneous/enterprise-support-policy)

[

Documentation Release Tracker

](/miscellaneous/documentation-release-tracker)

[

FlutterFlow Experts

](/miscellaneous/flutterflow-experts)

[

Additional Resources To Get Help

](/miscellaneous/additional-resources)

[

Available Sample Apps

](/miscellaneous/available-sample-apps)

[

Design Resources

](/miscellaneous/design-resources)

[

Application & Data Ownership

](/miscellaneous/application-and-data-ownership)

[

FlutterFlow Status

](/flutterflow-status)

[

Powered By GitBook



](https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=-MhFNOxEwcl8ED58MUC_)

# Custom Functions

A custom function is a block of code that performs a specific task and can be reused in different parts of the app. If you find yourself performing a particular set of operations repeatedly in your app, it may be helpful to create a custom function.

Our custom code editor allows you to define incoming and outgoing parameters, and you can easily check for any errors right within the editor.

![](https://1863580799-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MhFNOxEwcl8ED58MUC_%2Fuploads%2FyIxPDdz5ANVWTpMNyw29%2FScreenshot%202023-04-24%20at%202.06.09%20PM.png?alt=media&token=219fd3a5-fc2b-4eb8-a8fe-05cf1d38a016)

Custom function example 1

![](https://1863580799-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MhFNOxEwcl8ED58MUC_%2Fuploads%2FRVuWEz6Hr8aBY6oUH8Dt%2FScreenshot%202023-04-24%20at%202.07.47%20PM.png?alt=media&token=962ee94a-90e7-4dd9-96ba-4f31a124faf3)

Custom function example 2

## 

Adding _Custom Function_[](#adding-custom-function)

Let's see how to add a _Custom Function_ by building an example of a shopping cart page that calculates and displays the total price of items in a cart. You can create a custom function that takes in the items in the cart as a parameter and returns the total price of all the items.

This function can be reused throughout the app whenever you need to calculate the total price of items in a shopping cart. Here's how it looks:

![](https://1863580799-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MhFNOxEwcl8ED58MUC_%2Fuploads%2FgMqAyyUJOV3QEq8X8YXZ%2FScreenshot%202023-04-24%20at%203.30.36%20PM.png?alt=media&token=d79f7b40-30a1-4a51-879d-65f396c6c240)

Using a custom function to calculate the total price and display at multiple places

Here are the steps:

- 1.
    
    ‚Äã[Define custom function](/customizing-your-app/custom-functions/custom-functions#1.-define-custom-function)‚Äã
    

- 2.
    
    ‚Äã[Add code](/customizing-your-app/custom-functions/custom-functions#2.-add-code)‚Äã
    

- 3.
    
    ‚Äã[Testing code](/customizing-your-app/custom-functions/custom-functions#3.-testing-code)‚Äã
    

- 4.
    
    ‚Äã[Use custom function](/customizing-your-app/custom-functions/custom-functions#4.-use-custom-function)‚Äã
    

### 

1. Define custom function[](#1.-define-custom-function)

To define the custom function:

- 1.
    
    Select **Custom Functions** from the [_Navigation Menu_](/getting-started/ui-builder/navigation-menu) (left side of your screen).
    

- 2.
    
    Click **+ Add,** select **Function** and provide the **Function Name**.
    

- 3.
    
    To get output, see the **Return Value** section,
    
    - 1.
        
        Set the [**Type**](/customizing-your-app/custom-functions/custom-functions#supported-data-types) of return value to a suitable type. For example, if the _Custom Function_ returns a text, set the _Type_ to _String_. If your custom function returns a list of data, such as numbers or fruit names, tickmark the **List** option. For this example, set it to _Double_ because we might have the total price value in decimal.
        
    
    - 2.
        
        When you are sure this argument will always have a value and will not be null, you can uncheck the **Nullable** option.
        
    

- 4.
    
    To pass input:
    
    - 1.
        
        Click on the **+ Add Argument** (under the **Define Arguments** section).
        
    
    - 2.
        
        Enter the **Name** of the first parameter in the **Argument 1** input box.
        
    
    - 3.
        
        Set the [**Type**](/customizing-your-app/custom-functions/custom-functions#supported-data-types) of the incoming value to a suitable type.
        
    
    - 4.
        
        Determine whether you need to pass a single item or multiple and set the **List** accordingly. For this example, it will be a list of products in JSON format.
        
    
    - 5.
        
        When you are sure that this argument will always have a value and will not be null, you can uncheck the **Nullable** option.
        
    

### 

2. Add code[](#2.-add-code)

To add the code:

- 1.
    
    In the **Function Code** tab, add your custom code.
    

- 2.
    
    Alternatively, you can also use our **Code Copilot** (powered by [GPT-3.5 Turbo](https://platform.openai.com/docs/models/gpt-3-5)) tab to generate code from text. Simply tell it what kind of function you need, for example, '_calculate the total price of items_,' and it will generate a sample code. **Note** that it will generate code based on the input and output parameters you added.
    
    - 1.
        
        To get the code, click **Copy Function**.
        
    
    - 2.
        
        To regenerate code with another variation, click the refresh button.
        
    

- 3.
    
    Click **Save Function**.
    

- 4.
    
    Click on **Check Errors** to see if you are ok to proceed. If everything is OK, you'll see the **No Errors!** button, otherwise, you'll see the **Has Errors** button (click on it to see errors; also, see how to [fix errors using ChatGPT](/customizing-your-app/custom-functions#i-cant-understand-the-error)).
    

### 

3. Testing Code[](#3.-testing-code)

Testing the _Custom Function_ code allows you to see if your code works as expected against the various inputs. In general, it helps you gain confidence in shipping your app to production.

To test the code:

- 1.
    
    After you have added to the code, select the **Test Function** tab.
    

- 2.
    
    Provide the inputs to the function. For this example, it will be a list of JSON objects, each containing product details.
    

- 3.
    
    Click on the **Run** button.
    

- 4.
    
    Verify the output displayed below the _Run_ button.
    

- 5.
    
    To add more tests, **+ Add Test** button. To run all your test together, click on the **Run All Tests** button.
    

### 

4. Use custom function[](#4.-use-custom-function)

The newly created function is accessible via the set from variable menu. Here's how you use it:

- 1.
    
    Select any widget property that allows you to set value from variable.
    

- 2.
    
    Select **Custom Function > [custom_function_name]**.
    

- 3.
    
    Provide the input to the custom function using **Set Function Argument**. For this example, provide the list of products in JSON format (which is saved in the [app state](/data-and-backend/state-management/app-state) variable for this example).
    

- 4.
    
    Optionally, you can set the number format options for displaying numbers in an appropriate format. e.g., displaying the total price in decimal format with a currency symbol.
    

- 5.
    
    Similarly, you can use the same custom function wherever you require in your app. **Tip**: You can [copy variable](/widgets-and-components/widgets/widget-commonalities#copy-variable) feature.
    

## 

Formatting _Custom Function_[](#formatting-custom-function)

When working with code, it's important to ensure that it's properly formatted and easy to read. When code is not properly aligned, it can be difficult to understand and debug. To address this, we offer a built-in code formatter that can automatically format your code.

To use it, simply click on the **Format Code** () icon located on the top right side of the code editor.

![](https://1863580799-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MhFNOxEwcl8ED58MUC_%2Fuploads%2FmyRLEbbENnH1666b7qPN%2Fformat-code.gif?alt=media&token=13146b8b-c720-41ec-a126-cafd68c78cb5)

Format code

## 

Identifying errors[](#identifying-errors)

It is possible that you may make mistakes while adding the code in the code editor. In this situation, our code editor helps you find the errors. To identify the errors:

- 1.
    
    Find the line where the code editor shows the red underline.
    

- 2.
    
    Bring your mouse cursor over the line the see the exact error.
    

You can also click on the **Check Errors** button to see a list of all errors.

![](https://1863580799-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MhFNOxEwcl8ED58MUC_%2Fuploads%2FE21RIEm09CNqr9BKxdFb%2FScreenshot%202023-04-24%20at%204.32.43%20PM.png?alt=media&token=b3e98c4f-2a4f-44c1-8140-6851c6ba8009)

Identify errors

## 

Supported _Data Types_[](#supported-data-types)

The following data types are available while defining the parameters for Custom Actions.

- **Integer**: To pass/receive numbers such as 100, 4302, 50000, etc.
    

- **Double**: To pass/receive a decimal number such as 12.43, 3233.50, 65.5666, etc.
    

- **Boolean**: To pass/receive either a true or false value.
    

- **String**: To pass/receive plain text such as title, description, etc.
    

- **Image Path**: To pass/receive the URL of the uploaded image.
    

- **Video Path**: To pass/receive the URL of the uploaded video.
    

- **Audio Path**: To pass/receive the URL of the uploaded audio.
    

- **Color:** To pass/receive color value.
    

- **Document Reference**: To pass/receive a reference of a document.
    

- **Document**: To pass/receive the actual record, i.e., a Firestore document.
    

- **JSON**: To pass/receive the JSON value such as `{"firstName":"John", "lastName":"Doe"}`.
    

- **DateTime**: To pass/receive date and time value.
    

- **TimestampRange**: To pass/receive the start date-time and end date-time values.
    

- **Lat Lng**: To pass/receive the latitude and longitude of a particular place.
    

- **GooglePlace**: To pass/receive the GooglePlace data.
    

- **Data** **Type**: To pass/receive custom data type (aka Firestore Map).
    

- **Uploaded File:** To pass/receive locally uploaded files such as PDF, Audio (MP3), or any other file type.
    

## 

FAQs[](#faqs)

### 

I can't add imports![](#i-cant-add-imports)

You can't have imports in a custom function. To be able to add imports, consider using [Custom Widget](/customizing-your-app/custom-functions/custom-widgets) or [Custom Action](/customizing-your-app/custom-functions/custom-actions).

### 

Getting error: _**The function 'FFAppState' isn't defined.**_[](#getting-error-the-function-ffappstate-isnt-defined.)

You can't use the app state variable (i.e., FFAppState().variablename) directly in your custom function code. Instead, you can pass the app state variable as a parameter and then use it in your code, as shown in the figures below.

![](https://1863580799-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MhFNOxEwcl8ED58MUC_%2Fuploads%2FpaZm6A3hBhIpQQz8CDsB%2FScreenshot%202023-07-04%20at%2011.10.45%20AM.png?alt=media&token=c0b26b34-a744-4879-90e2-3bd5661fab8b)

Create and use parameter

![](https://1863580799-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-MhFNOxEwcl8ED58MUC_%2Fuploads%2F8Zyz4Y3kAA5P0R0cVXRu%2FScreenshot%202023-07-04%20at%2011.12.10%20AM.png?alt=media&token=c45de93e-d338-48e8-aab3-e6d55b597b74)

pass app state variable to parameter

---

_Last Updated Date:_ September _1, 2023_

[

Customizing Your App üñåÔ∏è - Previous

Custom Functions



](/customizing-your-app/custom-functions)[

Next

Custom Widgets

](/customizing-your-app/custom-functions/custom-widgets)

Last modified 1d ago

On this page

Adding Custom Function

1. Define custom function

2. Add code

3. Testing Code

4. Use custom function

Formatting Custom Function

Identifying errors

Supported Data Types

FAQs

I can't add imports!

Getting error: The function 'FFAppState' isn't defined.

[

Introduction

](/)

FlutterFlow Introduction

[

Dashboard

](/getting-started/dashboard)

[

App Builder

](/getting-started/ui-builder)

[

Creating New Project

](/getting-started/creating-new-project)

[

Creating New Page

](/getting-started/creating-new-page)

[

Build Your First App

](/getting-started/build-your-first-app)

Settings and Integrations

[

General Settings

](/settings-and-integrations/general-settings)

[

Project Setup

](/settings-and-integrations/project-setup)

[

App Settings

](/settings-and-integrations/app-settings)

[

In App Purchases & Subscriptions

](/settings-and-integrations/in-app-purchases-and-subscriptions)

[

Integrations

](/settings-and-integrations/integrations)

Building UI

[

UI & Layout 101

](/widgets-and-components/ui-and-layout-101)

[

Widgets

](/widgets-and-components/widgets)

[

Component

](/widgets-and-components/custom-components)

[

Animations

](/widgets-and-components/animations)

[

Theme Settings

](/widgets-and-components/theme-settings)

Actions

[

Actions

](/actions/actions)

Data and Backend

[

Firebase

](/data-and-backend/firebase)

[

Supabase

](/data-and-backend/supabase)

[

Passing Data

](/data-and-backend/passing-data)

[

Searching Data

](/data-and-backend/searching-data)

[

State Management

](/data-and-backend/state-management)

[

API Calls

](/data-and-backend/api-calls)

[

Backend Query

](/data-and-backend/backend-query)

[

Showing Data in UI Elements

](/data-and-backend/showing-data-in-ui-elements)

[

Custom Data Types

](/data-and-backend/custom-data-types)

Customizing Your App üñåÔ∏è

[

Custom Functions

](/customizing-your-app/custom-functions)

[

Custom Functions

](/customizing-your-app/custom-functions/custom-functions)

[

Custom Widgets

](/customizing-your-app/custom-functions/custom-widgets)

[

Custom Actions

](/customizing-your-app/custom-functions/custom-actions)

[

Custom Files

](/customizing-your-app/custom-functions/custom-files)

[

Manage Custom Code In GitHub

](/customizing-your-app/manage-custom-code-in-github)

Advanced Functionality ü§ñ

[

Conditional Visibility

](/advanced-functionality/conditional-visibility)

[

Conditional Logic

](/advanced-functionality/conditional-logic)

[

Global Properties

](/advanced-functionality/global-properties)

[

Deep & Dynamic Linking

](/advanced-functionality/deep-and-dynamic-linking)

[

Chat + Group Chat

](/advanced-functionality/chat-+-group-chat)

[

Code Expression

](/advanced-functionality/code-expression)

Deploying Your App üì±

[

Testing Your App

](/deploying-your-app/testing-your-app)

[

Deploy Mobile App

](/deploying-your-app/deploy-mobile-app)

Guides

[

Building Custom Signature Widget with Custom Code

](/guides/building-custom-signature-widget-with-custom-code)

[

Build a Notes App with FlutterFlow and Supabase

](/guides/build-a-notes-app-with-flutterflow-and-supabase)

Troubleshooting ‚ùì

[

Basic Troubleshooting Guide

](/troubleshooting/basic-troubleshooting-guide)

[

Advanced Troubleshooting Guides

](/troubleshooting/advanced-troubleshooting-guides)

[

Enterprise

](/troubleshooting/enterprise)

[

Submit Bug Reports

](/troubleshooting/submit-bug-reports)

[

Miscellaneous

](/troubleshooting/miscellaneous)

Account & Billing ‚ôüÔ∏è

[

Account Management

](/account/account-management)

[

Plans & Pricing

](/account/plans-and-pricing)

[

Subscriptions

](/account/subscriptions)

[

Payments & Billing

](/account/billing)

[

Buy Domains

](/account/buy-domains)

[

Referral Program

](/account/referral-program)

[

Privacy And Terms Of Service

](/account/privacy-and-terms-of-service)

Miscellaneous üòÉ

[

Customer Support Policy

](/miscellaneous/customer-support-policy)

[

Enterprise Support Policy

](/miscellaneous/enterprise-support-policy)

[

Documentation Release Tracker

](/miscellaneous/documentation-release-tracker)

[

FlutterFlow Experts

](/miscellaneous/flutterflow-experts)

[

Additional Resources To Get Help

](/miscellaneous/additional-resources)

[

Available Sample Apps

](/miscellaneous/available-sample-apps)

[

Design Resources

](/miscellaneous/design-resources)

[

Application & Data Ownership

](/miscellaneous/application-and-data-ownership)

[

FlutterFlow Status

](/flutterflow-status)

[

Powered By GitBook



](https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=-MhFNOxEwcl8ED58MUC_)